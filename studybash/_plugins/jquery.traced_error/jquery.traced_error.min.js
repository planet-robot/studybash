!function(a){a.tracedError=function(){var b={url:null,cleanup:null,html:null},c=function(b){var c=[],d=!1;if(!a.gettype||"array"!==a.gettype(b).base)return b;for(var e=0;e<b.length;e++)"string"===a.gettype(b[e]).base&&(d?c.push(b[e]):d||-1===b[e].toLowerCase().indexOf("createtracederror")||(d=!0));return c},d=function(b,c){a("body").html(""),a("<div></div>").attr("id","tracedError").addClass("container").appendTo("body"),a("<p></p>").addClass("tracedError-header").addClass("page-header").html("<h1>Critical Error!</h1>").appendTo("#tracedError"),a("<div></div>").attr("id","tracedError-error").addClass("panel panel-danger").appendTo("#tracedError"),a("<p></p>").addClass("tracedError-heading").addClass("panel-heading").html("<h3 class='panel-title'>"+b+"</h3>").appendTo("#tracedError-error");var d="";if(a.gettype&&"array"===a.gettype(c).base)for(var e=0;e<c.length;e++)d+="<p class='tracedError-trace-line'>#"+(c.length-e-1)+" "+c[e]+"</p>\n";else d="<p class='tracedError-trace-line'>"+c+"</p>\n";a("<div></div>").addClass("tracedError-trace").addClass("panel-body").html(d).appendTo("#tracedError-error")},e=function(c,e){throw a.gettype&&("function"===a.gettype(b.cleanup).base&&b.cleanup(),"function"===a.gettype(b.html).base?b.html(c,e):d(c,e)),new f(c)},f=function(a){return this instanceof f?(this.message=a,this.__class_types=["TracedError"],void 0):(console.error("`TracedError()` must be called with 'new'"),null)};f.prototype=new Error;var g=function(d){var f="undefined"!=typeof printStackTrace?c(printStackTrace()):["printStackTrace is undefined"];a.gettype||(d+=" \n[Warning: `$.gettype()` undefined in `$.tracedError`"),b.url?a.ajax({url:b.url,type:"POST",timeout:1e4,dataType:"json",contentType:"application/json",data:JSON.stringify({message:d,trace:f}),processData:!1,context:this}).always(function(){e(d,f)}):e(d,f)};return{settings:b,createTracedError:g}}()}(jQuery);