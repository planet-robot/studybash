<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>spinner - plugin test</title>

    <link href='lib/colorbox/css/colorbox.css' rel='stylesheet'>
    <link href='colorbox.spinner.css' rel='stylesheet'>

    <style>
        div.imagePreload {
            display : none;
        }
    </style>

    <script src="http://code.jquery.com/jquery-2.0.2.js"></script>
    <script src='http://underscorejs.org/underscore.js'></script>
    <script src='lib/colorbox/js/jquery.colorbox.js'></script>

    <script src='http://jchavannes.com/include/scripts/3p/jquery.timer.js'></script>
    <script src='http://plasticthoughts.com/plugins/leftovers/jquery.leftovers.js'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery.waitforimages/1.5.0/jquery.waitforimages.min.js'></script>
    <script src='colorbox.spinner.js'></script>
    
    <script>

        $(document).ready(function() {

            Spinner.settings.ROOT = "";
            Spinner.settings.title = "Studybash";

            // pre-loads it and waits until done.
            $("div.imagePreload").waitForImages(function(){

                var spinner = Spinner.get();
                var timer = $.timer(function(){
                    spinner.hide(function(){console.log("closed")});
                });

                $("#load_button").on("click",function(){
                    spinner.show({msg:"Processing..."});
                    timer.once(2000);
                });
            });

        }); // end ready

    </script>
</head>

<body>
    <div id='wrapper-body'>

        <div class='imagePreload'>
            <img src='lib/colorbox/css/images/loading.gif'>
        </div>

        <div id='content'>
            <button id='load_button' type='button'>Load</button>
        </div>        

    </div>
</body>
</html>