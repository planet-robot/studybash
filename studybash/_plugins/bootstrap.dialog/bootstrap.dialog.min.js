var bsDialog=function(){var a=0,b=[];return getUniqueID=function(){return a++},create=function(a){if("function"!==$.gettype(a.ok).base)throw new Error("`options.ok` was not a callback");var c="bsDialog-"+getUniqueID(),d="function"===$.gettype(a.cancel).base,e=null;e="<button type='button' class='btn btn-success btn-ok'>OK</button>",d&&(e+="\n<button type='button' class='btn btn-danger btn-cancel'>Cancel</button>");var f="        <div class='modal fade' id='"+c+"' tabindex='-1' role='dialog' aria-labelledby='myModalLabel' aria-hidden='true'>            <div class='modal-dialog'>                <div class='modal-content'>                    <div class='modal-header'>                        <h4 class='modal-title'>"+a.title+"</h4>                    </div>                    <div class='modal-body'>                        "+a.msg+"                    </div>                    <div class='modal-footer'>        "+e+"                    </div>                </div>            </div>        </div>";return $("body").append(f),$("#"+c+" button.btn-ok").on("click",function(){this.close(c,a.ok)}.bind(this)),d&&$("#"+c+" button.btn-cancel").on("click",function(){this.close(c,a.cancel)}.bind(this)),$("#"+c).modal({backdrop:"static",keyboard:!1}),b.push(c),c},close=function(a,c){if(c&&"function"!==$.gettype(c).base)throw new Error("`callback` was not a function: "+c);var d=_.indexOf(b,a,!1),e=$("#"+a);-1!==d&&e.length&&(e.on("hidden.bs.modal",function(){this.remove(),c&&c()}),e.modal("hide"),b.splice(d,1))},{create:create,close:close}}();